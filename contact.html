<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ribbon Motion Test</title>
    <link rel="stylesheet" href="gallery.css"> 
    
    <style>
        /* --- DARK BACKGROUND --- */
        body { margin: 0; background: #050505; overflow: hidden; height: 100vh; }
        
        #sphere-hero {
            position: relative; width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            perspective: 1200px;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 90%);
        }
        .sphere-container { position: relative; transform-style: preserve-3d; }

        /* --- IMAGES (Your Standard 40) --- */
        .gallery-item {
            position: absolute; top: 0; left: 0;
            transform-style: preserve-3d; backface-visibility: hidden;
            /* Placeholder styling */
            background: #222; border: 1px solid #444;
        }
        .gallery-item img {
            width: 100%; height: 100%; object-fit: cover;
            border: 2px solid #D4AF37; 
            box-shadow: 0 0 20px rgba(0,0,0,0.9);
        }

        /* --- THE NEW RIBBONS (The Extra Elements) --- */
        .ribbon {
            position: absolute; top: 0; left: 0;
            width: 40px;   /* Wider like cloth */
            height: 400px; /* Long and elegant */
            opacity: 0.85;
            backface-visibility: visible;
            border-radius: 20px; /* Soft rounded ends */
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            pointer-events: none; /* Let clicks pass through to images */
            
            /* The "Wavy" Animation */
            animation: clothWave 8s ease-in-out infinite alternate;
        }

        /* GOLD VARIANT */
        .ribbon.gold {
            /* Satin Gold Gradient */
            background: linear-gradient(45deg, #b8860b, #ffd700, #b8860b, #DAA520);
            background-size: 300% 300%;
            animation: clothWave 7s ease-in-out infinite alternate, shimmer 5s linear infinite;
        }

        /* RED VARIANT */
        .ribbon.red {
            /* Satin Red Gradient */
            background: linear-gradient(45deg, #500000, #b30000, #ff0000, #800000);
            background-size: 300% 300%;
            animation: clothWave 9s ease-in-out infinite alternate-reverse, shimmer 6s linear infinite;
        }

        /* Animation 1: Physical Waving */
        @keyframes clothWave {
            0% { transform: translateY(0) rotateX(0deg) skewX(0deg); }
            50% { transform: translateY(-30px) rotateX(10deg) skewX(5deg); }
            100% { transform: translateY(0) rotateX(0deg) skewX(-5deg); }
        }

        /* Animation 2: Light Shimmer (Makes it look like satin moving) */
        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

    </style>
</head>
<body>

    <div id="sphere-hero">
        <div class="sphere-container" id="sphere">
            </div>
        
        <h1 style="position:absolute; bottom:50px; left:50px; color:#D4AF37; font-family:serif; font-size:2rem; pointer-events:none;">
            Cloth Ribbon Test
        </h1>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <script>
        const sphereContainer = document.getElementById('sphere');
        const radius = 550; 
        
        // --- STEP 1: ADD YOUR 40 IMAGES ---
        const totalImages = 40;
        
        for (let i = 1; i <= totalImages; i++) {
            const div = document.createElement('div');
            div.className = 'gallery-item';
            
            // Random Sizes (Pinterest Style)
            const r = Math.random();
            if(r < 0.4) { div.style.width='100px'; div.style.height='150px'; }
            else if(r < 0.7) { div.style.width='150px'; div.style.height='100px'; }
            else { div.style.width='120px'; div.style.height='120px'; }

            const img = document.createElement('img');
            // Placeholder logic (Use your real files in production)
            img.src = `images/untitled${(i % 17) + 1}.webp`; 
            img.onerror = function(){ this.style.backgroundColor = '#111'; }; 
            div.appendChild(img);

            // Math for Sphere Position
            const phi = Math.acos(-1 + (2 * i) / totalImages);
            const theta = Math.sqrt(totalImages * Math.PI) * phi;
            const x = radius * Math.cos(theta) * Math.sin(phi);
            const y = radius * Math.sin(theta) * Math.sin(phi);
            const z = radius * Math.cos(phi);

            div.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateY(${theta}rad) rotateX(${phi}rad)`;
            sphereContainer.appendChild(div);
        }

        // --- STEP 2: ADD THE EXTRA RIBBONS ---
        const totalRibbons = 12; // 6 Gold, 6 Red

        for (let i = 0; i < totalRibbons; i++) {
            const div = document.createElement('div');
            
            // Alternate between Gold and Red
            if (i % 2 === 0) {
                div.className = 'ribbon gold';
            } else {
                div.className = 'ribbon red';
            }

            // Math for Sphere Position (Different seed so they don't overlap images perfectly)
            // We multiply index by a prime number (e.g., 7) to scatter them randomly
            const phi = Math.acos(-1 + (2 * i) / totalRibbons);
            const theta = Math.sqrt(totalRibbons * Math.PI * 3) * phi; // *3 makes them scatter wide
            
            // Push them slightly further out (radius + 50) so they float BEHIND or FRONT of images
            const r = radius + 20; 
            const x = r * Math.cos(theta) * Math.sin(phi);
            const y = r * Math.sin(theta) * Math.sin(phi);
            const z = r * Math.cos(phi);

            // Add preserve-3d to keep the ribbon orientation logic
            div.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateY(${theta}rad) rotateX(${phi}rad)`;
            
            sphereContainer.appendChild(div);
        }

        // --- ANIMATION ---
        let rotX = 0, rotY = 0, isDragging = false, startX, startY;
        const hero = document.getElementById('sphere-hero');

        hero.addEventListener('mousedown', (e) => { isDragging=true; startX=e.clientX; startY=e.clientY; });
        window.addEventListener('mouseup', () => { isDragging=false; });
        window.addEventListener('mousemove', (e) => {
            if(!isDragging) return;
            const dx = e.clientX - startX; const dy = e.clientY - startY;
            rotY += dx * 0.15; rotX -= dy * 0.15;
            gsap.to(sphereContainer, { rotationY: rotY, rotationX: rotX, duration: 0.8 });
            startX = e.clientX; startY = e.clientY;
        });

        gsap.to(sphereContainer, { rotationY: "+=360", rotationX: "-=360", duration: 120, repeat: -1, ease: "none" });

    </script>
</body>
</html>
